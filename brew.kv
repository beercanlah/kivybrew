<PropertyLabel@Label>:
    halign: 'left'
    text_size: self.width, None

<EchoLabel@PropertyLabel>:
    halign: 'center'
    text_size: self.width, None

<BrewControl>:
    GridLayout:
        id: main_params
        cols: 2
        x: root.width / 8
        width: root.width / 4
        top: root.height - root.height / 8
        row_default_height: 30
        row_force_default: True

        PropertyLabel:
            text: 'Temperature'

        EchoLabel:
            text: str(root.temperature)

        PropertyLabel:
            text: 'Heater'

        PropertyLabel:
            halign: 'center'
            text: 'on' if root.heater_status else 'off'

        PropertyLabel:
            text: 'Pump'

        Button:
            text: 'on' if root.pump_status else 'off'
            on_press: root.toggle_pump()

        PropertyLabel:
            text: 'PID'

        Button:
            text: 'on' if root.pid_status else 'off'
            on_press: root.toggle_pid()

    GridLayout:
        cols: 3
        x: main_params.x
        y: main_params.y - main_params.height - 2*main_params.row_default_height
        width: main_params.width
        row_default_height: main_params.row_default_height
        row_force_default: True

        PropertyLabel:
            text: 'Setpoint'

        FloatInput:
            on_text_validate: root.set_setpoint(float(self.text))

        EchoLabel:
            text: str(root.setpoint)

        PropertyLabel:
            text: 'P Value'

        FloatInput:
            on_text_validate: root.set_p_value(float(self.text))

        EchoLabel:
            text: str(root.p_value)

        PropertyLabel:
            text: 'I Value'

        FloatInput:
            on_text_validate: root.set_i_value(float(self.text))

        EchoLabel:
            text: str(root.i_value)
